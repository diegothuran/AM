import Orange
from scipy.stats import friedmanchisquare
from numpy.random import normal
import matplotlib.pyplot as plt
import numpy as np
import scipy.stats as ss

a = [0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333, 0.5033333333333333]
b = [0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667, 0.7466666666666667]
c = [0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232, 0.57238095238095232]
d = [0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146, 0.89142857142857146]
e = [0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008, 0.84000000000000008]
ranks = {'a':[], 'b':[], 'c':[], 'd':[], 'e':[]}

for i in range(30):
	results = ss.rankdata([a[i], b[i], c[i], d[i], e[i]])
	ranks['a'].append(results[0])
	ranks['b'].append(results[1])
	ranks['c'].append(results[2])
	ranks['d'].append(results[3])
	ranks['e'].append(results[4])

avranks = [np.mean(ranks['a']), np.mean(ranks['b']), np.mean(ranks['c']),np.mean(ranks['d']), np.mean(ranks['e'])]
names = ['naive-shape','naive-rgb','knn-shape','knn-rgb', 'ensemble']
cd = Orange.evaluation.compute_CD(avranks,30)
Orange.evaluation.graph_ranks(avranks,names,cd=cd,width=6,textspace=1.5)
plt.show()